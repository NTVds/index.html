<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Galego Cell - Gestão Completa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        window.jsPDF = window.jspdf.jsPDF;
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .nav-btn.active {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        .nav-btn:hover {
            background-color: #f3f4f6;
            transform: translateY(-1px);
        }
        .nav-btn.active:hover {
            background: linear-gradient(135deg, #2563eb, #1e40af);
        }
        .module {
            display: none;
        }
        .module.active {
            display: block;
        }
        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #1e40af);
            transform: translateY(-1px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-2xl">
        <div class="container mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="bg-white bg-opacity-20 p-3 rounded-full">
                        <i class="fas fa-mobile-alt text-3xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">ASSISTÊNCIA GALEGO CELL</h1>
                        <p class="text-sm opacity-90">Sistema de Gestão Profissional</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="flex items-center justify-end mb-1"><i class="fas fa-phone mr-2"></i> (84) 98718-1612</p>
                    <p class="flex items-center justify-end"><i class="fas fa-map-marker-alt mr-2"></i> Rua Tijuana, 19</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="glass-effect sticky top-0 z-40 shadow-lg">
        <div class="container mx-auto px-6">
            <div class="flex space-x-2 overflow-x-auto py-2">
                <button onclick="mostrarModulo('dashboard')" class="nav-btn active px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-chart-pie mr-2"></i>Dashboard
                </button>
                <button onclick="mostrarModulo('vendas')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-shopping-cart mr-2"></i>Vendas
                </button>
                <button onclick="mostrarModulo('estoque')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-boxes mr-2"></i>Estoque
                </button>
                <button onclick="mostrarModulo('servicos')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-tools mr-2"></i>Ordens de Serviço
                </button>
                <button onclick="mostrarModulo('clientes')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-users mr-2"></i>Clientes
                </button>
                <button onclick="mostrarModulo('financeiro')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-chart-line mr-2"></i>Financeiro
                </button>
                <button onclick="mostrarModulo('relatorios')" class="nav-btn px-6 py-3 text-sm font-medium rounded-full transition-all duration-300 whitespace-nowrap">
                    <i class="fas fa-file-alt mr-2"></i>Relatórios
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <!-- Dashboard -->
        <div id="dashboard" class="module active fade-in">
            <div class="mb-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-2">Dashboard</h2>
                <p class="text-gray-600">Visão geral do seu negócio</p>
            </div>

            <!-- Cards de Indicadores -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="glass-effect p-6 rounded-2xl card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">OS Abertas</p>
                            <p id="dashOSAbertas" class="text-2xl font-bold text-blue-600">0</p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <i class="fas fa-clipboard-list text-blue-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="glass-effect p-6 rounded-2xl card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">OS Concluídas Hoje</p>
                            <p id="dashOSConcluidas" class="text-2xl font-bold text-green-600">0</p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <i class="fas fa-check-circle text-green-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="glass-effect p-6 rounded-2xl card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Faturamento Hoje</p>
                            <p id="dashFaturamento" class="text-2xl font-bold text-purple-600">R$ 0,00</p>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-full">
                            <i class="fas fa-dollar-sign text-purple-600 text-xl"></i>
                        </div>
                    </div>
                </div>

                <div class="glass-effect p-6 rounded-2xl card-hover">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Clientes Ativos</p>
                            <p id="dashClientes" class="text-2xl font-bold text-orange-600">0</p>
                        </div>
                        <div class="bg-orange-100 p-3 rounded-full">
                            <i class="fas fa-users text-orange-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- OS Recentes e Alertas -->
            <div class="grid lg:grid-cols-2 gap-8">
                <div class="glass-effect p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">OS Recentes</h3>
                    <div id="dashOSRecentes" class="space-y-3">
                        <p class="text-gray-500 text-center">Nenhuma OS registrada</p>
                    </div>
                </div>

                <div class="glass-effect p-6 rounded-2xl">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Alertas e Notificações</h3>
                    <div id="dashAlertas" class="space-y-3">
                        <p class="text-gray-500 text-center">Nenhum alerta no momento</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Vendas -->
        <div id="vendas" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8 flex items-center">
                    <i class="fas fa-shopping-cart mr-4 text-blue-600"></i>Sistema de Vendas
                </h2>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Formulário de Venda -->
                    <div class="space-y-6">
                        <h3 class="text-xl font-semibold text-gray-700">Nova Venda</h3>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cliente</label>
                            <input type="text" id="clienteVenda" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all" placeholder="Nome do cliente">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Produto</label>
                                <select id="produtoVenda" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all">
                                    <option value="">Selecione um produto</option>
                                    <option value="Película de Vidro">Película de Vidro - R$ 15,00</option>
                                    <option value="Capinha">Capinha - R$ 25,00</option>
                                    <option value="Carregador">Carregador - R$ 35,00</option>
                                    <option value="Fone de Ouvido">Fone de Ouvido - R$ 45,00</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Quantidade</label>
                                <input type="number" id="quantidadeVenda" min="1" value="1" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Valor Total</label>
                            <input type="text" id="valorVenda" class="w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50" readonly>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Forma de Pagamento</label>
                            <select id="pagamentoVenda" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all">
                                <option value="Dinheiro">Dinheiro</option>
                                <option value="Cartão de Débito">Cartão de Débito</option>
                                <option value="Cartão de Crédito">Cartão de Crédito</option>
                                <option value="PIX">PIX</option>
                            </select>
                        </div>
                        
                        <button onclick="registrarVenda()" class="w-full btn-primary text-white py-3 px-6 rounded-xl font-medium">
                            <i class="fas fa-plus mr-2"></i>Registrar Venda
                        </button>
                    </div>
                    
                    <!-- Lista de Vendas -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mb-6">Vendas do Dia</h3>
                        <div id="listaVendas" class="space-y-4 max-h-96 overflow-y-auto">
                            <p class="text-gray-500 text-center">Nenhuma venda registrada hoje</p>
                        </div>
                        <div class="mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <p class="text-sm text-gray-600">Total do Dia: <span id="totalDia" class="font-bold text-blue-600 text-lg">R$ 0,00</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Estoque -->
        <div id="estoque" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8 flex items-center">
                    <i class="fas fa-boxes mr-4 text-green-600"></i>Controle de Estoque
                </h2>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Adicionar Produto -->
                    <div class="space-y-6">
                        <h3 class="text-xl font-semibold text-gray-700">Adicionar Produto</h3>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nome do Produto</label>
                            <input type="text" id="nomeProduto" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all" placeholder="Ex: Película de Vidro iPhone 12">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Código do Produto</label>
                            <input type="text" id="codigoProduto" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all" placeholder="Ex: PEL001">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Preço de Compra</label>
                                <input type="number" id="precoCompra" step="0.01" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all" placeholder="0,00">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Preço de Venda</label>
                                <input type="number" id="precoVenda" step="0.01" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all" placeholder="0,00">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Quantidade</label>
                            <input type="number" id="quantidadeProduto" min="0" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all" placeholder="0">
                        </div>
                        
                        <button onclick="adicionarProduto()" class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-6 rounded-xl font-medium hover:from-green-600 hover:to-green-700 transition-all">
                            <i class="fas fa-plus mr-2"></i>Adicionar ao Estoque
                        </button>
                    </div>
                    
                    <!-- Lista de Produtos -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mb-6">Produtos em Estoque</h3>
                        <div id="listaProdutos" class="space-y-4 max-h-96 overflow-y-auto">
                            <p class="text-gray-500 text-center">Nenhum produto cadastrado</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Ordens de Serviço -->
        <div id="servicos" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                        <i class="fas fa-tools mr-4 text-orange-600"></i>Ordens de Serviço
                    </h2>
                    <button onclick="abrirModalNovaOS()" class="btn-primary text-white px-6 py-3 rounded-xl font-medium">
                        <i class="fas fa-plus mr-2"></i>Nova OS
                    </button>
                </div>
                
                <!-- Lista de OS -->
                <div id="listaOS" class="grid gap-6">
                    <div class="text-center py-12">
                        <i class="fas fa-tools text-6xl text-gray-300 mb-4"></i>
                        <p class="text-gray-500 text-lg">Módulo de Ordens de Serviço</p>
                        <p class="text-gray-400">Em desenvolvimento - Funcionalidade completa em breve!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Clientes -->
        <div id="clientes" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 flex items-center">
                        <i class="fas fa-users mr-4 text-indigo-600"></i>Gestão de Clientes
                    </h2>
                    <button onclick="abrirModalNovoCliente()" class="btn-primary text-white px-6 py-3 rounded-xl font-medium">
                        <i class="fas fa-user-plus mr-2"></i>Novo Cliente
                    </button>
                </div>
                
                <!-- Lista de Clientes -->
                <div id="listaClientes" class="grid gap-4">
                    <div class="text-center py-12">
                        <i class="fas fa-users text-6xl text-gray-300 mb-4"></i>
                        <p class="text-gray-500 text-lg">Módulo de Gestão de Clientes</p>
                        <p class="text-gray-400">Em desenvolvimento - Funcionalidade completa em breve!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Financeiro -->
        <div id="financeiro" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8 flex items-center">
                    <i class="fas fa-chart-line mr-4 text-purple-600"></i>Controle Financeiro
                </h2>
                
                <!-- Cards de Resumo -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-2xl border border-green-200">
                        <div class="flex items-center">
                            <div class="bg-green-500 p-3 rounded-full mr-4">
                                <i class="fas fa-arrow-up text-white text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Receitas</p>
                                <p id="totalReceitas" class="text-2xl font-bold text-green-600">R$ 0,00</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-red-50 to-red-100 p-6 rounded-2xl border border-red-200">
                        <div class="flex items-center">
                            <div class="bg-red-500 p-3 rounded-full mr-4">
                                <i class="fas fa-arrow-down text-white text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Despesas</p>
                                <p id="totalDespesas" class="text-2xl font-bold text-red-600">R$ 0,00</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl border border-blue-200">
                        <div class="flex items-center">
                            <div class="bg-blue-500 p-3 rounded-full mr-4">
                                <i class="fas fa-wallet text-white text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Saldo</p>
                                <p id="saldoTotal" class="text-2xl font-bold text-blue-600">R$ 0,00</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-6 rounded-2xl border border-yellow-200">
                        <div class="flex items-center">
                            <div class="bg-yellow-500 p-3 rounded-full mr-4">
                                <i class="fas fa-chart-bar text-white text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Meta Mensal</p>
                                <p class="text-2xl font-bold text-yellow-600">R$ 5.000,00</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Adicionar Transação -->
                    <div class="space-y-6">
                        <h3 class="text-xl font-semibold text-gray-700">Nova Transação</h3>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tipo</label>
                            <select id="tipoTransacao" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all">
                                <option value="receita">Receita</option>
                                <option value="despesa">Despesa</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Descrição</label>
                            <input type="text" id="descricaoTransacao" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all" placeholder="Ex: Venda de capinha">
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Valor</label>
                                <input type="number" id="valorTransacao" step="0.01" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all" placeholder="0,00">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Data</label>
                                <input type="date" id="dataTransacao" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all">
                            </div>
                        </div>
                        
                        <button onclick="adicionarTransacao()" class="w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white py-3 px-6 rounded-xl font-medium hover:from-purple-600 hover:to-purple-700 transition-all">
                            <i class="fas fa-plus mr-2"></i>Adicionar Transação
                        </button>
                    </div>
                    
                    <!-- Lista de Transações -->
                    <div>
                        <h3 class="text-xl font-semibold text-gray-700 mb-6">Transações Recentes</h3>
                        <div id="listaTransacoes" class="space-y-4 max-h-96 overflow-y-auto">
                            <p class="text-gray-500 text-center">Nenhuma transação registrada</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Módulo Relatórios -->
        <div id="relatorios" class="module">
            <div class="glass-effect rounded-2xl shadow-xl p-8">
                <h2 class="text-3xl font-bold text-gray-800 mb-8 flex items-center">
                    <i class="fas fa-file-alt mr-4 text-indigo-600"></i>Relatórios
                </h2>
                
                <div class="text-center py-12">
                    <i class="fas fa-chart-bar text-6xl text-gray-300 mb-4"></i>
                    <p class="text-gray-500 text-lg">Módulo de Relatórios</p>
                    <p class="text-gray-400">Em desenvolvimento - Funcionalidade completa em breve!</p>
                    <div class="mt-8 space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-blue-800">Relatórios Disponíveis em Breve:</h4>
                            <ul class="text-blue-600 text-sm mt-2 space-y-1">
                                <li>• Relatório de Vendas por Período</li>
                                <li>• Relatório de Ordens de Serviço</li>
                                <li>• Relatório Financeiro Completo</li>
                                <li>• Relatório de Estoque</li>
                                <li>• Relatório de Clientes</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Dados em memória
        let vendas = [];
        let produtos = [];
        let ordensServico = [];
        let clientes = [];
        let transacoes = [];

        // Função principal de navegação - SUPER SIMPLES
        function mostrarModulo(nomeModulo) {
            console.log('Navegando para:', nomeModulo);
            
            // Esconder todos os módulos
            const modulos = document.querySelectorAll('.module');
            modulos.forEach(modulo => {
                modulo.classList.remove('active', 'fade-in');
            });
            
            // Remover active de todos os botões
            const botoes = document.querySelectorAll('.nav-btn');
            botoes.forEach(botao => {
                botao.classList.remove('active');
            });
            
            // Mostrar módulo selecionado
            const moduloAtivo = document.getElementById(nomeModulo);
            if (moduloAtivo) {
                moduloAtivo.classList.add('active', 'fade-in');
            }
            
            // Ativar botão correspondente
            const botaoAtivo = event.target;
            if (botaoAtivo) {
                botaoAtivo.classList.add('active');
            }
            
            // Atualizar dados do módulo
            atualizarModulo(nomeModulo);
        }

        function atualizarModulo(nomeModulo) {
            switch(nomeModulo) {
                case 'dashboard':
                    atualizarDashboard();
                    break;
                case 'vendas':
                    atualizarListaVendas();
                    break;
                case 'estoque':
                    atualizarListaProdutos();
                    break;
                case 'servicos':
                    atualizarListaOS();
                    break;
                case 'clientes':
                    atualizarListaClientes();
                    break;
                case 'financeiro':
                    atualizarListaTransacoes();
                    atualizarResumoFinanceiro();
                    break;
            }
        }

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Sistema iniciando...');
            
            // Definir data atual
            const hoje = new Date().toISOString().split('T')[0];
            const dataTransacao = document.getElementById('dataTransacao');
            
            if (dataTransacao) dataTransacao.value = hoje;
            
            // Carregar dados
            carregarDados();
            
            // Configurar eventos
            configurarEventos();
            
            // Atualizar dashboard
            atualizarDashboard();
            
            console.log('Sistema iniciado!');
        });

        function configurarEventos() {
            // Cálculo automático de vendas
            document.getElementById('produtoVenda').addEventListener('change', calcularValorVenda);
            document.getElementById('quantidadeVenda').addEventListener('input', calcularValorVenda);
        }

        // Funções do Dashboard
        function atualizarDashboard() {
            const hoje = new Date().toISOString().split('T')[0];
            
            // OS Abertas
            const osAbertas = ordensServico.filter(os => 
                os.status !== 'Entregue' && os.status !== 'Cancelada'
            ).length;
            document.getElementById('dashOSAbertas').textContent = osAbertas;
            
            // OS Concluídas hoje
            const osConcluidas = ordensServico.filter(os => 
                os.dataConclusao === hoje
            ).length;
            document.getElementById('dashOSConcluidas').textContent = osConcluidas;
            
            // Faturamento hoje
            const faturamentoHoje = vendas.filter(v => 
                v.data.includes(new Date().toLocaleDateString('pt-BR'))
            ).reduce((total, v) => total + v.valor, 0);
            document.getElementById('dashFaturamento').textContent = `R$ ${faturamentoHoje.toFixed(2)}`;
            
            // Clientes ativos
            document.getElementById('dashClientes').textContent = clientes.length;
        }

        // Funções de Vendas
        function calcularValorVenda() {
            const produto = document.getElementById('produtoVenda').value;
            const quantidade = parseInt(document.getElementById('quantidadeVenda').value) || 0;
            
            let preco = 0;
            if (produto.includes('15,00')) preco = 15;
            else if (produto.includes('25,00')) preco = 25;
            else if (produto.includes('35,00')) preco = 35;
            else if (produto.includes('45,00')) preco = 45;
            
            const total = preco * quantidade;
            document.getElementById('valorVenda').value = `R$ ${total.toFixed(2)}`;
        }

        function registrarVenda() {
            const cliente = document.getElementById('clienteVenda').value;
            const produto = document.getElementById('produtoVenda').value;
            const quantidade = parseInt(document.getElementById('quantidadeVenda').value);
            const valor = parseFloat(document.getElementById('valorVenda').value.replace('R$ ', ''));
            const pagamento = document.getElementById('pagamentoVenda').value;
            
            if (!cliente || !produto || !quantidade || !valor) {
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            const venda = {
                id: Date.now(),
                cliente,
                produto: produto.split(' - ')[0],
                quantidade,
                valor,
                pagamento,
                data: new Date().toLocaleString('pt-BR')
            };
            
            vendas.push(venda);
            
            // Adicionar automaticamente como receita
            const transacao = {
                id: Date.now() + 1,
                tipo: 'receita',
                descricao: `Venda: ${venda.produto}`,
                valor: venda.valor,
                data: new Date().toISOString().split('T')[0]
            };
            transacoes.push(transacao);
            
            salvarDados();
            atualizarListaVendas();
            atualizarResumoFinanceiro();
            atualizarDashboard();
            limparFormularioVenda();
            
            alert('Venda registrada com sucesso!');
        }

        function atualizarListaVendas() {
            const lista = document.getElementById('listaVendas');
            const vendasHoje = vendas.filter(v => v.data.includes(new Date().toLocaleDateString('pt-BR')));
            
            if (vendasHoje.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center">Nenhuma venda registrada hoje</p>';
            } else {
                lista.innerHTML = vendasHoje.map(venda => `
                    <div class="glass-effect p-4 rounded-xl card-hover">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="font-medium text-gray-800">${venda.cliente}</p>
                                <p class="text-sm text-gray-600">${venda.produto} (${venda.quantidade}x)</p>
                                <p class="text-xs text-gray-500">${venda.pagamento}</p>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-green-600">R$ ${venda.valor.toFixed(2)}</p>
                                <p class="text-xs text-gray-500">${venda.data}</p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
            
            const total = vendasHoje.reduce((sum, venda) => sum + venda.valor, 0);
            document.getElementById('totalDia').textContent = `R$ ${total.toFixed(2)}`;
        }

        function limparFormularioVenda() {
            document.getElementById('clienteVenda').value = '';
            document.getElementById('produtoVenda').value = '';
            document.getElementById('quantidadeVenda').value = '1';
            document.getElementById('valorVenda').value = '';
        }

        // Funções de Estoque
        function adicionarProduto() {
            const nome = document.getElementById('nomeProduto').value;
            const codigo = document.getElementById('codigoProduto').value;
            const precoCompra = parseFloat(document.getElementById('precoCompra').value);
            const precoVenda = parseFloat(document.getElementById('precoVenda').value);
            const quantidade = parseInt(document.getElementById('quantidadeProduto').value);
            
            if (!nome || !precoCompra || !precoVenda || quantidade < 0) {
                alert('Por favor, preencha todos os campos corretamente!');
                return;
            }
            
            const produto = {
                id: Date.now(),
                nome,
                codigo: codigo || `PROD${Date.now()}`,
                precoCompra,
                precoVenda,
                quantidade,
                data: new Date().toLocaleString('pt-BR')
            };
            
            produtos.push(produto);
            salvarDados();
            atualizarListaProdutos();
            limparFormularioProduto();
            
            alert('Produto adicionado com sucesso!');
        }

        function atualizarListaProdutos() {
            const lista = document.getElementById('listaProdutos');
            
            if (produtos.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center">Nenhum produto cadastrado</p>';
            } else {
                lista.innerHTML = produtos.map(produto => `
                    <div class="glass-effect p-4 rounded-xl card-hover">
                        <div class="flex justify-between items-start">
                            <div class="flex-1">
                                <p class="font-medium text-gray-800">${produto.nome}</p>
                                <p class="text-sm text-gray-600">Código: ${produto.codigo}</p>
                                <p class="text-sm text-gray-600">Compra: R$ ${produto.precoCompra.toFixed(2)} | Venda: R$ ${produto.precoVenda.toFixed(2)}</p>
                            </div>
                            <div class="text-right">
                                <p class="font-bold ${produto.quantidade > 10 ? 'text-green-600' : produto.quantidade > 5 ? 'text-yellow-600' : 'text-red-600'}">
                                    ${produto.quantidade} unidades
                                </p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function limparFormularioProduto() {
            document.getElementById('nomeProduto').value = '';
            document.getElementById('codigoProduto').value = '';
            document.getElementById('precoCompra').value = '';
            document.getElementById('precoVenda').value = '';
            document.getElementById('quantidadeProduto').value = '';
        }

        // Funções de OS
        function abrirModalNovaOS() {
            alert('Modal de Nova OS será implementado em breve!');
        }

        function atualizarListaOS() {
            // Implementar quando necessário
        }

        // Funções de Clientes
        function abrirModalNovoCliente() {
            alert('Modal de Novo Cliente será implementado em breve!');
        }

        function atualizarListaClientes() {
            // Implementar quando necessário
        }

        // Funções Financeiras
        function adicionarTransacao() {
            const tipo = document.getElementById('tipoTransacao').value;
            const descricao = document.getElementById('descricaoTransacao').value;
            const valor = parseFloat(document.getElementById('valorTransacao').value);
            const data = document.getElementById('dataTransacao').value;
            
            if (!descricao || !valor || !data) {
                alert('Por favor, preencha todos os campos!');
                return;
            }
            
            const transacao = {
                id: Date.now(),
                tipo,
                descricao,
                valor,
                data
            };
            
            transacoes.push(transacao);
            salvarDados();
            atualizarListaTransacoes();
            atualizarResumoFinanceiro();
            atualizarDashboard();
            limparFormularioTransacao();
            
            alert('Transação adicionada com sucesso!');
        }

        function atualizarListaTransacoes() {
            const lista = document.getElementById('listaTransacoes');
            const transacoesRecentes = transacoes.slice(-10).reverse();
            
            if (transacoesRecentes.length === 0) {
                lista.innerHTML = '<p class="text-gray-500 text-center">Nenhuma transação registrada</p>';
            } else {
                lista.innerHTML = transacoesRecentes.map(transacao => `
                    <div class="glass-effect p-4 rounded-xl card-hover">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="font-medium text-gray-800">${transacao.descricao}</p>
                                <p class="text-xs text-gray-500">${new Date(transacao.data).toLocaleDateString('pt-BR')}</p>
                            </div>
                            <div class="text-right">
                                <p class="font-bold ${transacao.tipo === 'receita' ? 'text-green-600' : 'text-red-600'}">
                                    ${transacao.tipo === 'receita' ? '+' : '-'} R$ ${transacao.valor.toFixed(2)}
                                </p>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function atualizarResumoFinanceiro() {
            const receitas = transacoes.filter(t => t.tipo === 'receita').reduce((sum, t) => sum + t.valor, 0);
            const despesas = transacoes.filter(t => t.tipo === 'despesa').reduce((sum, t) => sum + t.valor, 0);
            const saldo = receitas - despesas;
            
            document.getElementById('totalReceitas').textContent = `R$ ${receitas.toFixed(2)}`;
            document.getElementById('totalDespesas').textContent = `R$ ${despesas.toFixed(2)}`;
            document.getElementById('saldoTotal').textContent = `R$ ${saldo.toFixed(2)}`;
        }

        function limparFormularioTransacao() {
            document.getElementById('descricaoTransacao').value = '';
            document.getElementById('valorTransacao').value = '';
        }

        // Funções de persistência
        function salvarDados() {
            localStorage.setItem('galegoCell_vendas', JSON.stringify(vendas));
            localStorage.setItem('galegoCell_produtos', JSON.stringify(produtos));
            localStorage.setItem('galegoCell_ordensServico', JSON.stringify(ordensServico));
            localStorage.setItem('galegoCell_clientes', JSON.stringify(clientes));
            localStorage.setItem('galegoCell_transacoes', JSON.stringify(transacoes));
        }

        function carregarDados() {
            const vendasSalvas = localStorage.getItem('galegoCell_vendas');
            const produtosSalvos = localStorage.getItem('galegoCell_produtos');
            const ossSalvas = localStorage.getItem('galegoCell_ordensServico');
            const clientesSalvos = localStorage.getItem('galegoCell_clientes');
            const transacoesSalvas = localStorage.getItem('galegoCell_transacoes');
            
            if (vendasSalvas) vendas = JSON.parse(vendasSalvas);
            if (produtosSalvos) produtos = JSON.parse(produtosSalvos);
            if (ossSalvas) ordensServico = JSON.parse(ossSalvas);
            if (clientesSalvos) clientes = JSON.parse(clientesSalvos);
            if (transacoesSalvas) transacoes = JSON.parse(transacoesSalvas);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9719fbd426c4caeb',t:'MTc1NTYwOTk5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
